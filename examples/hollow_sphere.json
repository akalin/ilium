{
  "_comment": [
    "The scene is a radiance and irradiance meter inside a hollow sphere ",
    "that both emits and reflects light.",

    "The radiance along any ray inside the sphere should converge to Le ",
    "/ (1 - rho), which in this case is (0.5, 0.5, 0.5). Thus, the ",
    "irradiance at any point and normal should then be pi * Le / (1 - rho).",

    "For an eye path with k bounces, the pixel values will be Le (1 - ",
    "rho^k) / (1 - rho).  Thus, the absolute error is Le rho^k / (1 - ",
    "rho), and the relative error is rho^k.  To get the absolute error ",
    "less than eps, you need more than (lg eps + lg (1 - rho) - lg Le) / ",
    "lg rho bounces, and to get the relative error less than eps, you ",
    "need more than lg eps / lg rho bounces."
  ],

  "scene": {
    "aggregate": {
      "type": "PrimitiveList",
      "primitives": [
        {
          "_comment": "Hollow sphere.",
          "type": "GeometricPrimitive",
          "shape": {
            "type": "Sphere",
            "samplingMethod": "visibleFast",
            "center": [0, 0.5, 0],
            "radius": 10,
            "flipNormal": true
          },
          "material": {
            "type": "DiffuseMaterial",
            "samplingMethod": "cosine",
            "rho": { "type": "rgb", "r": 0.8, "g": 0.6, "b": 0.2 }
          },
          "light": {
            "type": "DiffuseAreaLight",
            "emission": { "type": "rgb", "r": 0.1, "g": 0.2, "b": 0.4 }
          }
        },
        {
          "_comment": "Radiometers.",
          "type": "PointPrimitive",
          "position": [0, 0.5, 0],
          "sensors": [
            {
              "type": "RadianceMeter",
              "description": "towards hollow sphere",
              "target": [0, 1, 0],
              "sampleCount": 32
            },
            {
              "type": "IrradianceMeter",
              "description": "in center of hollow sphere",
              "samplingMethod": "cosine",
              "up": [0, 1, 0],
              "sampleCount": 32
            }
          ]
        }
      ]
    }
  },

  "renderer": {
    "type": "PathTracingRenderer",
    "pathType": "emittedLight",
    "russianRouletteMethod": "proportional",
    "russianRouletteStartIndex": 5,
    "russianRouletteMaxProbability": 0.95,
    "russianRouletteDelta": 0.25,
    "maxEdgeCount": 100,
    "sampler": {
      "type": "IndependentSampler"
    }
  }
}
